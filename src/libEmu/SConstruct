import os

cc = 'clang'
# set some options to use
cflags = '-O -c -pg -O2 -Wextra -pedantic -std=c99'
# debug flags
debug = '-O -c -O0 -g -pg'
# use the matern covariance function
#usematern = ' -DMATERN'

env_prod = Environment(CCFLAGS = cflags)
env_shared = Environment(CCFLAGS = cflags)

# source files to make the lib
src_files = Split('estimator.c emulator.c maximise.c maxbfgs.c bfgs.c estimate_threaded.c')

libs=Split('gsl gslcblas m pthread')

# make the libEmu library 
env_prod.Library('libEmu', src_files, LIBS=libs)
# make the shared one
env_shared.SharedLibrary('libEmu', src_files, LIBS=libs)
